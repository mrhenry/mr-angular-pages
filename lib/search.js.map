{"version":3,"sources":["../src/search.js"],"names":[],"mappings":";;;;;;;;;;;QAMgB,IAAI,GAAJ,IAAI;QA4BJ,SAAS,GAAT,SAAS;;AA5BlB,SAAS,IAAI,CAAC,KAAK,EAAU;MAAR,GAAG,gCAAC,EAAE;;AAEhC,MAAI,IAAI,CAAC,YAAY,EAAE;;;AACrB,WAAO,YAAA,IAAI,CAAC,YAAY,EAAE,IAAI,iBAAC,KAAK,EAAE,GAAG,CAAC,CAAC;GAC5C;;AAED,MAAI,CAAC,KAAK,EAAE;AACV,WAAO,GAAG,CAAC;GACZ;;AAED,MAAI,KAAK,CAAC,KAAK,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,CAAC,KAAK,EAAE;AAC5C,WAAO,GAAG,CAAC;GACZ;;AAED,MAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE;AAC1C,WAAO,AAAM,cAAc,MAApB,IAAI,EAAiB,KAAK,EAAE,GAAG,CAAC,CAAC;GACzC;;AAED,KAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACf,SAAO,AAAM,cAAc,MAApB,IAAI,EAAiB,KAAK,EAAE,GAAG,CAAC,CAAC;CAEzC;;;;;;;AAOM,SAAS,SAAS,CAAC,KAAK,EAAE;;AAE/B,MAAI,CAAC,KAAK,EAAE;AACV,WAAO,IAAI,CAAC;GACb;;AAED,OAAK,CAAC,KAAK,GAAG,CAAC,CAAC;AAChB,MAAI,GAAG,GAAG,AAAM,IAAI,MAAV,IAAI,EAAO,KAAK,CAAC,CAAC;;AAE5B,SAAQ,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,CAAE;CACzB;;AAGD,SAAS,cAAc,CAAC,KAAK,EAAE,GAAG,EAAE;AAClC,MAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;AAClB,WAAO,GAAG,CAAC;GACZ;;;;;;;AAED,yBAAkB,IAAI,CAAC,QAAQ,8HAAE;UAAxB,KAAK;;AACZ,SAAG,GAAG,AAAO,IAAI,MAAX,KAAK,EAAO,KAAK,EAAE,GAAG,CAAC,CAAC;KAC/B;;;;;;;;;;;;;;;;AAED,SAAO,GAAG,CAAC;CACZ","file":"search.js","sourcesContent":["\n/*\n * @param {Object} query\n * @param {Integer} query.limit\n * @param {String} query.type\n */\nexport function find(query, acc=[]) {\n\n  if (this.$pageSummary) {\n    return this.$pageSummary::find(query, acc);\n  }\n\n  if (!query) {\n    return acc;\n  }\n\n  if (query.limit && acc.length >= query.limit) {\n    return acc;\n  }\n\n  if (query.type && query.type !== this.type) {\n    return this::findInChildren(query, acc);\n  }\n\n  acc.push(this);\n  return this::findInChildren(query, acc);\n\n}\n\n\n/*\n * @param {Object} query\n * @param {String} query.type\n */\nexport function findFirst(query) {\n\n  if (!query) {\n    return null;\n  }\n\n  query.limit = 1;\n  let res = this::find(query);\n\n  return (res[0] || null);\n}\n\n\nfunction findInChildren(query, acc) {\n  if (!this.children) {\n    return acc;\n  }\n\n  for (let child of this.children) {\n    acc = child::find(query, acc);\n  }\n\n  return acc;\n}\n"]}