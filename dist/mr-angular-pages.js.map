{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "lib/Api.js",
    "lib/Loader.js",
    "lib/Page.js",
    "lib/States.js",
    "lib/index.js",
    "lib/preprocess.js",
    "lib/query.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\nexports.fetchSummaries = fetchSummaries;\n\nvar _fdAngularCore = require('fd-angular-core');\n\nvar _index = require('./index');\n\nvar summariesPromise = undefined;\n\n(0, _fdAngularCore.beforeBoot)(fetchSummaries);\n\nfunction fetchSummaries() {\n\tif (summariesPromise) {\n\t\treturn summariesPromise;\n\t}\n\tsummariesPromise = _index.currentLoader.summaries().then(makeTree);\n\treturn summariesPromise;\n}\n\nfunction makeTree(data) {\n\tvar pages = data.pages || [];\n\tvar pagesById = {};\n\tvar pagesByPath = {};\n\tvar roots = [];\n\n\tif (navigator.language) {\n\t\tvar locale = navigator.language.split('-')[0];\n\t\tif (data.i18n.locales.indexOf(locale) < 0) {\n\t\t\tlocale = data.i18n['default'];\n\t\t}\n\t\tdata.i18n.current = locale;\n\t}\n\tif (!data.i18n.current) {\n\t\tdata.i18n.current = data.i18n['default'];\n\t}\n\n\t// localize\n\tvar lpages = [];\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = data.i18n.locales[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar locale = _step.value;\n\t\t\tvar _iteratorNormalCompletion6 = true;\n\t\t\tvar _didIteratorError6 = false;\n\t\t\tvar _iteratorError6 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator6 = pages[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n\t\t\t\t\tvar page = _step6.value;\n\n\t\t\t\t\tvar clone = {};\n\t\t\t\t\tObject.assign(clone, page);\n\t\t\t\t\tclone.translations = undefined;\n\t\t\t\t\tclone.id = locale + '/' + page.id;\n\n\t\t\t\t\tvar localeTranslations = undefined,\n\t\t\t\t\t    defaultTranslations = undefined;\n\t\t\t\t\tvar _iteratorNormalCompletion7 = true;\n\t\t\t\t\tvar _didIteratorError7 = false;\n\t\t\t\t\tvar _iteratorError7 = undefined;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (var _iterator7 = page.translations[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n\t\t\t\t\t\t\tvar t = _step7.value;\n\n\t\t\t\t\t\t\tif (t.locale === locale) {\n\t\t\t\t\t\t\t\tlocaleTranslations = t;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (t.locale === data.i18n['default']) {\n\t\t\t\t\t\t\t\tdefaultTranslations = t;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t_didIteratorError7 = true;\n\t\t\t\t\t\t_iteratorError7 = err;\n\t\t\t\t\t} finally {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!_iteratorNormalCompletion7 && _iterator7['return']) {\n\t\t\t\t\t\t\t\t_iterator7['return']();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tif (_didIteratorError7) {\n\t\t\t\t\t\t\t\tthrow _iteratorError7;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tObject.assign(clone, defaultTranslations);\n\t\t\t\t\tvar _iteratorNormalCompletion8 = true;\n\t\t\t\t\tvar _didIteratorError8 = false;\n\t\t\t\t\tvar _iteratorError8 = undefined;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (var _iterator8 = Object.keys(localeTranslations)[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n\t\t\t\t\t\t\tvar key = _step8.value;\n\n\t\t\t\t\t\t\tvar val = localeTranslations[key];\n\t\t\t\t\t\t\tif (!isBlank(val)) {\n\t\t\t\t\t\t\t\tclone[key] = val;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t_didIteratorError8 = true;\n\t\t\t\t\t\t_iteratorError8 = err;\n\t\t\t\t\t} finally {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!_iteratorNormalCompletion8 && _iterator8['return']) {\n\t\t\t\t\t\t\t\t_iterator8['return']();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tif (_didIteratorError8) {\n\t\t\t\t\t\t\t\tthrow _iteratorError8;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tclone.locale = locale;\n\t\t\t\t\tif (isBlank(clone.long_title)) {\n\t\t\t\t\t\t/* eslint camelcase:0 */\n\t\t\t\t\t\tclone.long_title = clone.title;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (page.parent_id) {\n\t\t\t\t\t\tclone.parent_id = locale + '/' + page.parent_id;\n\t\t\t\t\t}\n\n\t\t\t\t\tpagesById[clone.id] = clone;\n\t\t\t\t\tlpages.push(clone);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError6 = true;\n\t\t\t\t_iteratorError6 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion6 && _iterator6['return']) {\n\t\t\t\t\t\t_iterator6['return']();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError6) {\n\t\t\t\t\t\tthrow _iteratorError6;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t_iterator['return']();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tpages = lpages;\n\n\t// resolve parent pages\n\tvar _iteratorNormalCompletion2 = true;\n\tvar _didIteratorError2 = false;\n\tvar _iteratorError2 = undefined;\n\n\ttry {\n\t\tfor (var _iterator2 = pages[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\tvar page = _step2.value;\n\n\t\t\tif (page.parent_id) {\n\t\t\t\tvar _parent = pagesById[page.parent_id];\n\t\t\t\tif (!_parent.child_ids) {\n\t\t\t\t\t_parent.child_ids = [];\n\t\t\t\t}\n\t\t\t\t_parent.child_ids.push(page.id);\n\t\t\t\tpage.parent = _parent;\n\t\t\t} else {\n\t\t\t\troots.push(page);\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError2 = true;\n\t\t_iteratorError2 = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion2 && _iterator2['return']) {\n\t\t\t\t_iterator2['return']();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError2) {\n\t\t\t\tthrow _iteratorError2;\n\t\t\t}\n\t\t}\n\t}\n\n\troots.sort(positionSort);\n\n\t// resolve child pages\n\tvar _iteratorNormalCompletion3 = true;\n\tvar _didIteratorError3 = false;\n\tvar _iteratorError3 = undefined;\n\n\ttry {\n\t\tfor (var _iterator3 = pages[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\tvar page = _step3.value;\n\n\t\t\tif (page.child_ids) {\n\t\t\t\tvar children = [];\n\t\t\t\tvar _iteratorNormalCompletion9 = true;\n\t\t\t\tvar _didIteratorError9 = false;\n\t\t\t\tvar _iteratorError9 = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator9 = page.child_ids[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n\t\t\t\t\t\tvar id = _step9.value;\n\n\t\t\t\t\t\tvar child = pagesById[id];\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tchildren.push(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError9 = true;\n\t\t\t\t\t_iteratorError9 = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion9 && _iterator9['return']) {\n\t\t\t\t\t\t\t_iterator9['return']();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError9) {\n\t\t\t\t\t\t\tthrow _iteratorError9;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tchildren.sort(positionSort);\n\t\t\t\tpage.children = children;\n\t\t\t} else {\n\t\t\t\tpage.children = [];\n\t\t\t}\n\t\t}\n\n\t\t// map by path\n\t} catch (err) {\n\t\t_didIteratorError3 = true;\n\t\t_iteratorError3 = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion3 && _iterator3['return']) {\n\t\t\t\t_iterator3['return']();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError3) {\n\t\t\t\tthrow _iteratorError3;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar _iteratorNormalCompletion4 = true;\n\tvar _didIteratorError4 = false;\n\tvar _iteratorError4 = undefined;\n\n\ttry {\n\t\tfor (var _iterator4 = roots[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t\t\tvar page = _step4.value;\n\n\t\t\tmakePath(page, '/' + page.locale, pagesByPath);\n\t\t\tif (page.locale === data.i18n.current) {\n\t\t\t\tmakePath(page, '/', pagesByPath);\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError4 = true;\n\t\t_iteratorError4 = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion4 && _iterator4['return']) {\n\t\t\t\t_iterator4['return']();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError4) {\n\t\t\t\tthrow _iteratorError4;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\ttypes: data.types,\n\t\ti18n: data.i18n,\n\t\tpages: pagesByPath\n\t};\n\n\tfunction makePath(page, prefix, acc, root) {\n\n\t\tvar slug = pageSlug(page);\n\t\tvar path = pathJoin(prefix, slug);\n\n\t\tif (!root) {\n\t\t\troot = page;\n\t\t}\n\n\t\tpage.root = root;\n\t\tpage.path = path;\n\t\tacc[path] = page;\n\n\t\tvar _iteratorNormalCompletion5 = true;\n\t\tvar _didIteratorError5 = false;\n\t\tvar _iteratorError5 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator5 = page.children[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n\t\t\t\tvar child = _step5.value;\n\n\t\t\t\tmakePath(child, path, acc, root);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError5 = true;\n\t\t\t_iteratorError5 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion5 && _iterator5['return']) {\n\t\t\t\t\t_iterator5['return']();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError5) {\n\t\t\t\t\tthrow _iteratorError5;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction positionSort(a, b) {\n\t\tvar posa = a.position || 0;\n\t\tvar posb = b.position || 0;\n\t\treturn posa - posb;\n\t}\n\n\tfunction pageSlug(page) {\n\t\tif (typeof page.path_component === 'string') {\n\t\t\treturn page.path_component;\n\t\t}\n\t\tif (typeof page.static_uuid === 'string') {\n\t\t\treturn page.static_uuid;\n\t\t}\n\t\treturn \"\";\n\t}\n\n\tfunction pathJoin(prefix, suffix) {\n\t\tif (suffix === '') {\n\t\t\treturn prefix;\n\t\t}\n\t\tif (prefix === '/') {\n\t\t\treturn '/' + suffix;\n\t\t}\n\t\treturn prefix + '/' + suffix;\n\t}\n\n\tfunction isBlank(val) {\n\t\treturn val === undefined || val === null && val === '';\n\t}\n}\n//# sourceMappingURL=Api.js.map",
    "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Loader = (function () {\n\tfunction Loader() {\n\t\t_classCallCheck(this, Loader);\n\t}\n\n\t_createClass(Loader, [{\n\t\tkey: \"summaries\",\n\t\tvalue: function summaries() {\n\t\t\treturn this.fetch(\"/api/pages.json\");\n\t\t}\n\t}, {\n\t\tkey: \"details\",\n\t\tvalue: function details(pageId) {\n\t\t\treturn this.fetch(\"/api/pages/\" + pageId + \".json\");\n\t\t}\n\t}, {\n\t\tkey: \"fetch\",\n\t\tvalue: (function (_fetch) {\n\t\t\tfunction fetch(_x) {\n\t\t\t\treturn _fetch.apply(this, arguments);\n\t\t\t}\n\n\t\t\tfetch.toString = function () {\n\t\t\t\treturn _fetch.toString();\n\t\t\t};\n\n\t\t\treturn fetch;\n\t\t})(function (path) {\n\t\t\treturn fetch(path).then(status).then(json);\n\t\t})\n\t}]);\n\n\treturn Loader;\n})();\n\nexports.Loader = Loader;\n\nfunction status(resp) {\n\tif (!resp.status === 200) {\n\t\tthrow Error(\"Unexpected response status: \" + resp.status);\n\t}\n\treturn resp;\n}\n\nfunction json(resp) {\n\treturn resp.json();\n}\n//# sourceMappingURL=Loader.js.map",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\nexports.mountPage = mountPage;\nexports.Page = Page;\n\nvar _fdAngularCore = require('fd-angular-core');\n\nvar _index = require('./index');\n\nvar registeredPageTypes = {};\n\nexports.registeredPageTypes = registeredPageTypes;\nvar DEFAULT_SUFFIX = 'Page';\n\nfunction mountPage(page, url) {\n\tvar opts = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\tvar name = opts.name;\n\n\treturn {\n\t\tstate: _fdAngularCore.mountAt.call(this, url, { name: name || url }),\n\t\tpage: page,\n\t\tchildren: [],\n\t\tbuildUiRouterState: builder\n\t};\n\n\tfunction builder() {\n\t\tvar _this = this;\n\n\t\tvar state = (0, _fdAngularCore.buildUiRouterState)(this.state);\n\n\t\tstate.resolve.pageSummary = function () {\n\t\t\treturn _this.page;\n\t\t};\n\t\tstate.resolve.pageId = function () {\n\t\t\treturn _this.page.id;\n\t\t};\n\n\t\tvar _iteratorNormalCompletion = true;\n\t\tvar _didIteratorError = false;\n\t\tvar _iteratorError = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator = this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\tvar child = _step.value;\n\n\t\t\t\tstate.children.push((0, _fdAngularCore.buildUiRouterState)(child));\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError = true;\n\t\t\t_iteratorError = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t\t_iterator['return']();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn state;\n\t}\n}\n\n/**\n@function Page\n@param {Object}  opts - The options\n@param {string}  [opts.name] - The name of the controller.\n@param {string}  [opts.bindTo] - Bind the controller to the provided name.\n@param {Boolean} [opts.abstract] - True for abstract states.\n@param {Boolean} [opts.embed] - Embed this page as a child state in it's parent page.\n@param {Boolean} [opts.embedChildren] - Embed the child pages of this pages as child states.\n@param {string}  [opts.template] - An angular template.\n@param {string}  [opts.templateUrl] - A URL to an angular template.\n@param {State[]} [opts.children] - List of child states.\n@param {string}  [opts.controllerName] - The name of the controller as seen by angular.\n@param {Object}  [opts.views] - State views\n\n@example\n[@]Page({\n\ttemplate: `<h1>Hello World</h1>`,\n})\nclass HomePage {\n}\n*/\n\nfunction Page() {\n\tvar opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n\tif (opts.url) {\n\t\tthrow \"@Page({ url }) is not supported\";\n\t}\n\tif (opts.resolve) {\n\t\tthrow \"@Page({ resolve }) is not supported\";\n\t}\n\n\tif (opts.asChild !== undefined) {\n\t\tconsole.warn(\"@Page({ asChild }) is depricated use @Page({ embed }) instead.\");\n\t\topts.embed = opts.asChild;\n\t}\n\n\tfunction register(constructor) {\n\t\tvar meta = (0, _fdAngularCore.Metadata)(constructor);\n\n\t\tvar name = opts.name;\n\t\tif (!name) {\n\t\t\tname = meta.name;\n\t\t\tname = name[0].toLowerCase() + name.substr(1, name.length - DEFAULT_SUFFIX.length - 1);\n\t\t\topts.name = name;\n\t\t}\n\n\t\tconstructor = (0, _fdAngularCore.State)(opts)(constructor) || constructor;\n\n\t\tvar pageConstructor = function pageConstructor(pageSummary, pageDetails) {\n\t\t\tapplyPageSummary.call(this, pageSummary);\n\t\t\tapplyPageDetails.call(this, pageDetails);\n\n\t\t\tfor (var _len = arguments.length, rest = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n\t\t\t\trest[_key - 2] = arguments[_key];\n\t\t\t}\n\n\t\t\tconstructor.apply(this, rest);\n\t\t};\n\t\tpageConstructor = meta.wrap(pageConstructor);\n\t\tpageConstructor.$inject = ['pageSummary', 'pageDetails'].concat(constructor.$inject || []);\n\n\t\tvar superMeta = (0, _fdAngularCore.Metadata)(meta.superClass) || { state: {} };\n\n\t\tif (opts.embed === true || opts.embed === false) {\n\t\t\tmeta.state.embed = opts.embed;\n\t\t} else {\n\t\t\tmeta.state.embed = superMeta.state.embed || false;\n\t\t}\n\n\t\tif (opts.embedChildren === true || opts.embedChildren === false) {\n\t\t\tmeta.state.embedChildren = opts.embedChildren;\n\t\t} else {\n\t\t\tmeta.state.embedChildren = superMeta.state.embedChildren || false;\n\t\t}\n\n\t\tmeta.state.resolve.pageDetails = loadPageDetails;\n\t\tmeta.state.resolve.pageSummary = function () {};\n\t\tmeta.state.resolve.pageId = function () {};\n\n\t\tregisteredPageTypes[meta.name] = pageConstructor;\n\t\treturn constructor;\n\t}\n\n\tfunction loadPageDetails($q, pageId) {\n\t\treturn $q.when(_index.currentLoader.details(pageId));\n\t}\n\tloadPageDetails.$inject = ['$q', 'pageId'];\n\n\tfunction applyPageSummary(data) {\n\t\tthis.$pageSummary = data;\n\t\tObject.assign(this, data);\n\t\tthis.type = data.type;\n\t}\n\n\tfunction applyPageDetails(data) {\n\t\tthis.$pageDetails = data;\n\t\tObject.assign(this, data);\n\t}\n\n\treturn register;\n}\n//# sourceMappingURL=Page.js.map",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nrequire('mr-util');\n\nvar _Api = require('./Api');\n\nvar _Page = require('./Page');\n\nvar _fdAngularCore = require('fd-angular-core');\n\nvar _preprocess = require('./preprocess');\n\n(0, _fdAngularCore.beforeBoot)(awaitStates);\n\n/**\nPagesController holds all the Lalala pages. Include this state\nto mount all the child pages.\n\n@class PagesController\n*/\n\nvar PagesController = (function () {\n\tfunction PagesController() {\n\t\t_classCallCheck(this, _PagesController);\n\t}\n\n\tvar _PagesController = PagesController;\n\tPagesController = (0, _fdAngularCore.State)({\n\t\tabstract: true,\n\t\ttemplate: '<ui-view></ui-view>'\n\t})(PagesController) || PagesController;\n\treturn PagesController;\n})();\n\nexports.PagesController = PagesController;\n\nfunction awaitStates() {\n\treturn (0, _Api.fetchSummaries)().then(preprocess).then(buildStates).then(exportData);\n}\n\nfunction preprocess(data) {\n\tvar q = [(0, _preprocess.runPreprocessors)(data.pages[\"/\"])];\n\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = data.i18n.locales[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar locale = _step.value;\n\n\t\t\tq.push((0, _preprocess.runPreprocessors)(data.pages[\"/\" + locale]));\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t_iterator['return']();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn Promise.all(q).then(function () {\n\t\treturn data;\n\t});\n}\n\nfunction buildStates(data) {\n\tvar keys = Object.keys(data.pages);\n\tvar stateIndex = {},\n\t    metaIndex = {},\n\t    closestParentIndex = {};\n\tvar ctrlMeta = (0, _fdAngularCore.Metadata)(PagesController);\n\tkeys.sort();\n\n\tconsole.groupCollapsed(\"Pages\");\n\n\tvar _iteratorNormalCompletion2 = true;\n\tvar _didIteratorError2 = false;\n\tvar _iteratorError2 = undefined;\n\n\ttry {\n\t\tfor (var _iterator2 = keys[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\tvar path = _step2.value;\n\n\t\t\tvar page = data.pages[path];\n\t\t\tvar type = lookupPageType.call(data, page.type);\n\t\t\tvar meta = (0, _fdAngularCore.Metadata)(type);\n\n\t\t\t// find parent\n\t\t\tvar idx = path.lastIndexOf('/');\n\t\t\tvar parentPath = path.slice(0, idx);\n\t\t\tvar childPath = path.slice(idx);\n\t\t\tif (parentPath === '') {\n\t\t\t\tparentPath = '/';\n\t\t\t}\n\n\t\t\tvar parentState = stateIndex[parentPath];\n\t\t\tvar parentMeta = metaIndex[parentPath];\n\n\t\t\tif (parentState && (meta.state.embed || parentMeta.state.embedChildren)) {\n\t\t\t\tvar state = _Page.mountPage.call(type, page, childPath);\n\t\t\t\tstateIndex[path] = state;\n\t\t\t\tmetaIndex[path] = meta;\n\t\t\t\tclosestParentIndex[path] = parentPath;\n\t\t\t\tconsole.log(\"Page[%s] %o\", path, page);\n\t\t\t\tparentState.children.push(state);\n\t\t\t} else if (closestParentIndex[parentPath]) {\n\t\t\t\tvar closestParentPath = closestParentIndex[parentPath];\n\t\t\t\tparentState = stateIndex[closestParentPath];\n\t\t\t\tchildPath = path.slice(closestParentPath.length);\n\n\t\t\t\tvar state = _Page.mountPage.call(type, page, childPath);\n\t\t\t\tstateIndex[path] = state;\n\t\t\t\tmetaIndex[path] = meta;\n\n\t\t\t\tclosestParentIndex[path] = closestParentPath;\n\t\t\t\tconsole.log(\"Page[%s] %o\", path, page);\n\t\t\t\tparentState.children.push(state);\n\t\t\t} else {\n\t\t\t\tvar state = _Page.mountPage.call(type, page, path);\n\t\t\t\tstateIndex[path] = state;\n\t\t\t\tmetaIndex[path] = meta;\n\t\t\t\tconsole.log(\"Page[%s] %o\", path, page);\n\t\t\t\tctrlMeta.state.children.push(state);\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError2 = true;\n\t\t_iteratorError2 = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion2 && _iterator2['return']) {\n\t\t\t\t_iterator2['return']();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError2) {\n\t\t\t\tthrow _iteratorError2;\n\t\t\t}\n\t\t}\n\t}\n\n\tconsole.groupEnd();\n\n\treturn data;\n}\n\n/**\nRoots is a map of all the root pages by their locale.\n\n@member Roots\n*/\nvar Roots = null;\n\nexports.Roots = Roots;\n/**\nRoot is the root pages according to the current locale.\n\n@member Root\n*/\nvar Root = null;\n\nexports.Root = Root;\n/**\nI18n holds information about the available locales.\n\n@namespace I18n\n*/\n/**\n@var {string} current\n@memberof I18n\n*/\n/**\n@var {string} default\n@memberof I18n\n*/\n/**\n@var {string[]} locales\n@memberof I18n\n*/\nvar I18n = null;\n\nexports.I18n = I18n;\nfunction exportData(data) {\n\texports.I18n = I18n = data.i18n;\n\texports.Root = Root = data.pages[\"/\"];\n\texports.Roots = Roots = {};\n\n\tvar _iteratorNormalCompletion3 = true;\n\tvar _didIteratorError3 = false;\n\tvar _iteratorError3 = undefined;\n\n\ttry {\n\t\tfor (var _iterator3 = data.i18n.locales[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\tvar locale = _step3.value;\n\n\t\t\tRoots[locale] = data.pages[\"/\" + locale];\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError3 = true;\n\t\t_iteratorError3 = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion3 && _iterator3['return']) {\n\t\t\t\t_iterator3['return']();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError3) {\n\t\t\t\tthrow _iteratorError3;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn data;\n}\n\nfunction lookupPageType(name) {\n\tvar missing = [];\n\tvar type = _Page.registeredPageTypes[name];\n\n\twhile (!type) {\n\t\tmissing.push(name);\n\n\t\tname = this.types[name];\n\t\tif (!name) {\n\t\t\tthrow Error(\"Unknown page types: \" + missing.join(', '));\n\t\t}\n\n\t\ttype = _Page.registeredPageTypes[name];\n\t}\n\n\treturn type;\n}\n//# sourceMappingURL=States.js.map",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\nexports.setPageLoader = setPageLoader;\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nrequire('./Api');\n\nvar _Loader = require('./Loader');\n\nvar _States = require('./States');\n\nObject.defineProperty(exports, 'PagesController', {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _States.PagesController;\n\t}\n});\nObject.defineProperty(exports, 'Roots', {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _States.Roots;\n\t}\n});\nObject.defineProperty(exports, 'Root', {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _States.Root;\n\t}\n});\nObject.defineProperty(exports, 'I18n', {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _States.I18n;\n\t}\n});\n\nvar _Page = require('./Page');\n\nObject.defineProperty(exports, 'Page', {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _Page.Page;\n\t}\n});\n\nvar _query = require('./query');\n\nvar _pq = _interopRequireWildcard(_query);\n\nexports.pq = _pq;\n\nvar _preprocess = require('./preprocess');\n\nObject.defineProperty(exports, 'preprocess', {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _preprocess.preprocess;\n\t}\n});\nexports.PageLoader = _Loader.Loader;\nvar currentLoader = new _Loader.Loader();\n\nexports.currentLoader = currentLoader;\n\nfunction setPageLoader(loader) {\n\texports.currentLoader = currentLoader = loader;\n}\n//# sourceMappingURL=index.js.map",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\nexports.preprocess = preprocess;\nexports.runPreprocessors = runPreprocessors;\n\nvar _query = require('./query');\n\nvar preprocessors = [];\n\n/**\nCallbacks passed to preprocess are executed before the page-state tree is build.\nThe callback is called with each root page.\n\n@function preprocess\n@param {preprocessCallback} func\n@returns {Promise}\n*/\n/**\n@callback preprocessCallback\n@param {Object} page\n@returns {?Promise}\n*/\n\nfunction preprocess(func) {\n\tpreprocessors.push(func);\n}\n\nfunction runPreprocessors(root) {\n\treturn seq.call(root, preprocessors);\n}\n\n// Run functions returning promises sequentialy\nfunction seq(funcs) {\n\tvar idx = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\n\tvar target = this;\n\tif (!target.then) {\n\t\ttarget = Promise.resolve(target);\n\t}\n\n\tif (idx < funcs.length) {\n\t\tvar _context;\n\n\t\treturn (_context = target.then(funcs[idx]), seq).call(_context, funcs, idx + 1);\n\t}\n\n\treturn target;\n}\n\npreprocess(function addDepthToPages(root) {\n\treturn _query.visit.call(root, function (page) {\n\t\tif (page.parent) {\n\t\t\tpage.depth = page.parent.depth + 1;\n\t\t} else {\n\t\t\tpage.depth = 0;\n\t\t}\n\t});\n});\n//# sourceMappingURL=preprocess.js.map",
    "\n\n/**\nPQ is a simple library for dealing with a page tree.\n\n@namespace pq\n*/\n\n/**\nVisit all the child pages.\n\n@function visit\n@memberof pq\n@param {visitCallback} func - func is called with each page in the tree\n@returns {Promise}\n*/\n/**\n@callback visitCallback\n@param {Object} page\n@returns {(Promise|false|undefined)}\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.visit = visit;\nexports.find = find;\nexports.findFirst = findFirst;\n\nfunction visit(func) {\n\tvar _this = this;\n\n\tvar p = new Promise(function (resolve, reject) {\n\t\ttry {\n\t\t\tresolve(func(_this));\n\t\t} catch (e) {\n\t\t\treject(e);\n\t\t}\n\t});\n\n\tp = p.then(function (r) {\n\t\tif (r === false) {\n\t\t\treturn r;\n\t\t}\n\t\tif (!_this.children) {\n\t\t\treturn r;\n\t\t}\n\n\t\tvar all = [];\n\n\t\tvar _iteratorNormalCompletion = true;\n\t\tvar _didIteratorError = false;\n\t\tvar _iteratorError = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator = _this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\tvar child = _step.value;\n\n\t\t\t\tall.push(visit.call(child, func));\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError = true;\n\t\t\t_iteratorError = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n\t\t\t\t\t_iterator[\"return\"]();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn Promise.all(all);\n\t});\n\n\treturn p.then(function () {\n\t\treturn _this;\n\t});\n}\n\n/**\nFind all pages matching a query.\n\n@function find\n@memberof pq\n\n@param {Object} query\n@param {Integer} query.limit\n@param {String} query.type\n@returns {Object[]}\n*/\n\nfunction find(query) {\n\tvar acc = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n\n\tif (this.$pageSummary) {\n\t\tvar _context;\n\n\t\treturn (_context = this.$pageSummary, find).call(_context, query, acc);\n\t}\n\n\tif (!query) {\n\t\treturn acc;\n\t}\n\n\tif (query.limit && acc.length >= query.limit) {\n\t\treturn acc;\n\t}\n\n\tif (query.type && query.type !== this.type) {\n\t\treturn findInChildren.call(this, query, acc);\n\t}\n\n\tacc.push(this);\n\treturn findInChildren.call(this, query, acc);\n}\n\n/**\nFind the first page matching a query.\n\n@function findFirst\n@memberof pq\n\n@param {Object} query\n@param {String} query.type\n@returns {Object}\n*/\n\nfunction findFirst(query) {\n\n\tif (!query) {\n\t\treturn null;\n\t}\n\n\tquery.limit = 1;\n\tvar res = find.call(this, query);\n\n\treturn res[0] || null;\n}\n\nfunction findInChildren(query, acc) {\n\tif (!this.children) {\n\t\treturn acc;\n\t}\n\n\tvar _iteratorNormalCompletion2 = true;\n\tvar _didIteratorError2 = false;\n\tvar _iteratorError2 = undefined;\n\n\ttry {\n\t\tfor (var _iterator2 = this.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\tvar child = _step2.value;\n\n\t\t\tacc = find.call(child, query, acc);\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError2 = true;\n\t\t_iteratorError2 = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion2 && _iterator2[\"return\"]) {\n\t\t\t\t_iterator2[\"return\"]();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError2) {\n\t\t\t\tthrow _iteratorError2;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn acc;\n}\n//# sourceMappingURL=query.js.map"
  ]
}