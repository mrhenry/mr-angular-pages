{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "lib/Api.js",
    "lib/Page.js",
    "lib/States.js",
    "lib/index.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.fetchSummaries = fetchSummaries;\n\nvar _fdAngularCore = require('fd-angular-core');\n\nvar summariesPromise = undefined;\n\n(0, _fdAngularCore.beforeBoot)(fetchSummaries());\n\nfunction fetchSummaries() {\n  if (summariesPromise) return summariesPromise;\n  summariesPromise = fetch('/api/pages.json').then(status).then(json).then(makeTree);\n  return summariesPromise;\n}\n\nfunction status(resp) {\n  if (!resp.status === 200) {\n    throw Error('Unexpected response status: ' + resp.status);\n  }\n  return resp;\n}\n\nfunction json(resp) {\n  return resp.json();\n}\n\nfunction makeTree(data) {\n  var pages = data.pages || [];\n  var pagesById = {};\n  var pagesByPath = {};\n  var roots = [];\n\n  if (navigator.language) {\n    var locale = navigator.language.split('-')[0];\n    if (!data.i18n.locales.indexOf(locale)) {\n      locale = data.i18n['default'];\n    }\n    data.i18n.current = locale;\n  }\n\n  // localize\n  var lpages = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data.i18n.locales[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var locale = _step.value;\n      var _iteratorNormalCompletion6 = true;\n      var _didIteratorError6 = false;\n      var _iteratorError6 = undefined;\n\n      try {\n        for (var _iterator6 = pages[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n          var page = _step6.value;\n\n          _page = Object.create(page, {});\n          _page.translations = undefined;\n          _page.id = locale + '/' + page.id;\n\n          var translations = undefined;\n          var _iteratorNormalCompletion7 = true;\n          var _didIteratorError7 = false;\n          var _iteratorError7 = undefined;\n\n          try {\n            for (var _iterator7 = page.translations[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n              var t = _step7.value;\n\n              if (t.locale == locale) {\n                translations = t;\n                break;\n              }\n              if (t.locale == data.i18n['default']) {\n                translations = t;\n              }\n            }\n          } catch (err) {\n            _didIteratorError7 = true;\n            _iteratorError7 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion7 && _iterator7['return']) {\n                _iterator7['return']();\n              }\n            } finally {\n              if (_didIteratorError7) {\n                throw _iteratorError7;\n              }\n            }\n          }\n\n          var _iteratorNormalCompletion8 = true;\n          var _didIteratorError8 = false;\n          var _iteratorError8 = undefined;\n\n          try {\n            for (var _iterator8 = Object.keys(translations)[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n              var key = _step8.value;\n\n              _page[key] = translations[key];\n            }\n          } catch (err) {\n            _didIteratorError8 = true;\n            _iteratorError8 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion8 && _iterator8['return']) {\n                _iterator8['return']();\n              }\n            } finally {\n              if (_didIteratorError8) {\n                throw _iteratorError8;\n              }\n            }\n          }\n\n          _page.locale = locale;\n\n          if (page.parent_id) {\n            _page.parent_id = locale + '/' + page.parent_id;\n          }\n\n          pagesById[_page.id] = _page;\n          lpages.push(_page);\n        }\n      } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion6 && _iterator6['return']) {\n            _iterator6['return']();\n          }\n        } finally {\n          if (_didIteratorError6) {\n            throw _iteratorError6;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  pages = lpages;\n\n  // resolve parent pages\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = pages[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var page = _step2.value;\n\n      if (page.parent_id) {\n        var _parent = pagesById[page.parent_id];\n        if (!_parent.child_ids) _parent.child_ids = [];\n        _parent.child_ids.push(page.id);\n        page.parent = _parent;\n      } else {\n        roots.push(page);\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  roots.sort(positionSort);\n\n  // resolve child pages\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = pages[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var page = _step3.value;\n\n      if (page.child_ids) {\n        var children = [];\n        var _iteratorNormalCompletion9 = true;\n        var _didIteratorError9 = false;\n        var _iteratorError9 = undefined;\n\n        try {\n          for (var _iterator9 = page.child_ids[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n            var id = _step9.value;\n\n            var child = pagesById[id];\n            if (child) children.push(child);\n          }\n        } catch (err) {\n          _didIteratorError9 = true;\n          _iteratorError9 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion9 && _iterator9['return']) {\n              _iterator9['return']();\n            }\n          } finally {\n            if (_didIteratorError9) {\n              throw _iteratorError9;\n            }\n          }\n        }\n\n        children.sort(positionSort);\n        page.children = children;\n      } else {\n        page.children = [];\n      }\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n        _iterator3['return']();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  // map by path\n  var _iteratorNormalCompletion4 = true;\n  var _didIteratorError4 = false;\n  var _iteratorError4 = undefined;\n\n  try {\n    for (var _iterator4 = roots[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n      var page = _step4.value;\n\n      makePath(page, '/' + page.locale, pagesByPath);\n      if (page.locale === data.i18n.current) {\n        makePath(page, '/', pagesByPath);\n      }\n    }\n  } catch (err) {\n    _didIteratorError4 = true;\n    _iteratorError4 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n        _iterator4['return']();\n      }\n    } finally {\n      if (_didIteratorError4) {\n        throw _iteratorError4;\n      }\n    }\n  }\n\n  return {\n    types: data.types,\n    i18n: data.i18n,\n    pages: pagesByPath\n  };\n\n  function makePath(page, prefix, acc) {\n    var path = page.path_component == '' ? prefix : prefix == '/' ? '/' + page.path_component : prefix + '/' + page.path_component;\n\n    acc[path] = page;\n\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n\n    try {\n      for (var _iterator5 = page.children[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n        var child = _step5.value;\n\n        makePath(child, path, acc);\n      }\n    } catch (err) {\n      _didIteratorError5 = true;\n      _iteratorError5 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion5 && _iterator5['return']) {\n          _iterator5['return']();\n        }\n      } finally {\n        if (_didIteratorError5) {\n          throw _iteratorError5;\n        }\n      }\n    }\n  }\n\n  function positionSort(a, b) {\n    var posa = a.position || 0;\n    var posb = b.position || 0;\n    return posa - posb;\n  }\n}\n//# sourceMappingURL=Api.js.map",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.mountPage = mountPage;\nexports.Page = Page;\n\nvar _fdAngularCore = require('fd-angular-core');\n\nvar registeredPageTypes = {};\n\nexports.registeredPageTypes = registeredPageTypes;\nvar DEFAULT_SUFFIX = 'Page';\n\nfunction mountPage(pageId, url) {\n  var _this = _fdAngularCore.mountAt.call(this, url);\n\n  var resolve = Object.assign({}, _this.$$state.state.resolve);\n  _this.$$state.state.resolve = resolve;\n  _this.$$state.state.name = url;\n  _this.$$state.state.childStates = _this.$$state.state.childStates.concat([]);\n\n  resolve.pageId = function resolvePageId() {\n    return pageId;\n  };\n\n  return _this;\n}\n\nfunction Page(opts) {\n  if (opts.url) {\n    throw '@Page({ url }) is not supported';\n  }\n  if (opts.abstract) {\n    throw '@Page({ abstract }) is not supported';\n  }\n  if (opts.resolve) {\n    throw '@Page({ resolve }) is not supported';\n  }\n\n  function register(constructor) {\n\n    var name = opts.name;\n    if (!name) {\n      name = funcName(constructor);\n      name = name[0].toLowerCase() + name.substr(1, name.length - DEFAULT_SUFFIX.length - 1);\n      opts.name = name;\n    }\n\n    function wrappedConstructor(pageDetails) {\n      applyPageDetails.call(this, pageDetails);\n\n      for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      constructor.apply(this, rest);\n    }\n    wrappedConstructor = funcRename(funcName(constructor), wrappedConstructor);\n    wrappedConstructor.$inject = ['pageDetails'].concat(constructor.$inject || []);\n    wrappedConstructor.prototype = constructor.prototype;\n\n    opts.resolve = { pageDetails: loadPageDetails };\n\n    (0, _fdAngularCore.State)(opts)(wrappedConstructor);\n    registeredPageTypes[funcName(wrappedConstructor)] = wrappedConstructor;\n  }\n\n  function loadPageDetails($http, pageId) {\n    return $http.get('/api/pages/' + pageId + '.json').then(function (x) {\n      return x.data;\n    });\n  }\n  loadPageDetails.$inject = ['$http', 'pageId'];\n\n  function applyPageDetails(data) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = Object.keys(data)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var key = _step.value;\n\n        this[key] = data[key];\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator['return']) {\n          _iterator['return']();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }\n\n  return register;\n}\n\nfunction funcName(f) {\n  var name = f && f.name || null;\n\n  if (name === null) {\n    name = f.toString().match(/^function\\s*([^\\s(]+)/)[1];\n  }\n\n  return name;\n}\n\nfunction funcRename(name, fn) {\n  return new Function('return function (call) { return function ' + name + ' () { return call(this, arguments) }; };')()(Function.apply.bind(fn));\n}\n//# sourceMappingURL=Page.js.map",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _Api = require('./Api');\n\nvar _Page = require('./Page');\n\nvar _fdAngularCore = require('fd-angular-core');\n\n(0, _fdAngularCore.beforeBoot)(awaitStates());\n\nvar states = [];\n\nvar PagesController = (function () {\n  function PagesController() {\n    _classCallCheck(this, _PagesController);\n\n    console.log('[PagesController]', 'Constructor');\n  }\n\n  var _PagesController = PagesController;\n\n  _createClass(_PagesController, [{\n    key: 'activate',\n    value: function activate() {\n      console.log('[PagesController]', 'Activate', true);\n    }\n  }, {\n    key: 'attach',\n    value: function attach() {\n      console.log('[PagesController]', 'Attach');\n    }\n  }, {\n    key: 'detach',\n    value: function detach() {\n      console.log('[PagesController]', 'Detach');\n    }\n  }]);\n\n  PagesController = (0, _fdAngularCore.State)({\n    abstract: true,\n    children: states,\n    template: '<ui-view></ui-view>'\n  })(PagesController) || PagesController;\n  return PagesController;\n})();\n\nexports.PagesController = PagesController;\n\nfunction awaitStates() {\n  return (0, _Api.fetchSummaries)().then(buildStates);\n}\n\nfunction buildStates(data) {\n  var keys = Object.keys(data.pages);\n  var stateIndex = {};\n  keys.sort();\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = keys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var path = _step.value;\n\n      var page = data.pages[path];\n      var type = lookupPageType.call(data, page.type);\n\n      if (type.$$state.opts.asChild) {\n        var idx = path.lastIndexOf('/');\n\n        var parentPath = path.slice(0, idx);\n        var childPath = path.slice(idx);\n\n        var state = _Page.mountPage.call(type, page.id, childPath);\n        stateIndex[path] = state;\n\n        var _parent = stateIndex[parentPath];\n        _parent.$$state.state.childStates.push(state);\n      } else {\n        var state = _Page.mountPage.call(type, page.id, path);\n        stateIndex[path] = state;\n        states.push(state);\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nfunction lookupPageType(name) {\n  var missing = [];\n\n  while (true) {\n    var type = _Page.registeredPageTypes[name];\n    if (type) return type;\n\n    missing.push(name);\n\n    name = this.types[name];\n    if (!name) {\n      throw Error('Unknown page types: ' + missing.join(', '));\n    }\n  }\n}\n//# sourceMappingURL=States.js.map",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nrequire('./Api');\n\nvar _States = require('./States');\n\nObject.defineProperty(exports, 'PagesController', {\n  enumerable: true,\n  get: function get() {\n    return _States.PagesController;\n  }\n});\n\nvar _Page = require('./Page');\n\nObject.defineProperty(exports, 'Page', {\n  enumerable: true,\n  get: function get() {\n    return _Page.Page;\n  }\n});\n//# sourceMappingURL=index.js.map"
  ]
}