{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "lib/Api.js",
    "lib/Page.js",
    "lib/States.js",
    "lib/index.js",
    "lib/search.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.fetchSummaries = fetchSummaries;\n\nvar _fdAngularCore = require('fd-angular-core');\n\nvar summariesPromise = undefined;\n\n(0, _fdAngularCore.beforeBoot)(fetchSummaries());\n\nfunction fetchSummaries() {\n  if (summariesPromise) return summariesPromise;\n  summariesPromise = fetch('/api/pages.json').then(status).then(json).then(makeTree);\n  return summariesPromise;\n}\n\nfunction status(resp) {\n  if (!resp.status === 200) {\n    throw Error('Unexpected response status: ' + resp.status);\n  }\n  return resp;\n}\n\nfunction json(resp) {\n  return resp.json();\n}\n\nfunction makeTree(data) {\n  var pages = data.pages || [];\n  var pagesById = {};\n  var pagesByPath = {};\n  var roots = [];\n\n  if (navigator.language) {\n    var locale = navigator.language.split('-')[0];\n    if (!data.i18n.locales.indexOf(locale)) {\n      locale = data.i18n['default'];\n    }\n    data.i18n.current = locale;\n  }\n\n  // localize\n  var lpages = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data.i18n.locales[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var locale = _step.value;\n      var _iteratorNormalCompletion6 = true;\n      var _didIteratorError6 = false;\n      var _iteratorError6 = undefined;\n\n      try {\n        for (var _iterator6 = pages[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n          var page = _step6.value;\n\n          _page = Object.create(page, {});\n          _page.translations = undefined;\n          _page.id = locale + '/' + page.id;\n\n          var localeTranslations = undefined,\n              defaultTranslations = undefined;\n          var _iteratorNormalCompletion7 = true;\n          var _didIteratorError7 = false;\n          var _iteratorError7 = undefined;\n\n          try {\n            for (var _iterator7 = page.translations[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n              var t = _step7.value;\n\n              if (t.locale == locale) {\n                localeTranslations = t;\n              }\n              if (t.locale == data.i18n['default']) {\n                defaultTranslations = t;\n              }\n            }\n          } catch (err) {\n            _didIteratorError7 = true;\n            _iteratorError7 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion7 && _iterator7['return']) {\n                _iterator7['return']();\n              }\n            } finally {\n              if (_didIteratorError7) {\n                throw _iteratorError7;\n              }\n            }\n          }\n\n          Object.assign(_page, defaultTranslations);\n          var _iteratorNormalCompletion8 = true;\n          var _didIteratorError8 = false;\n          var _iteratorError8 = undefined;\n\n          try {\n            for (var _iterator8 = Object.keys(localeTranslations)[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n              var key = _step8.value;\n\n              var val = localeTranslations[key];\n              if (!!val) {\n                _page[key] = val;\n              }\n            }\n          } catch (err) {\n            _didIteratorError8 = true;\n            _iteratorError8 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion8 && _iterator8['return']) {\n                _iterator8['return']();\n              }\n            } finally {\n              if (_didIteratorError8) {\n                throw _iteratorError8;\n              }\n            }\n          }\n\n          _page.locale = locale;\n          if (!_page.long_title) {\n            _page.long_title = _page.title;\n          }\n\n          if (page.parent_id) {\n            _page.parent_id = locale + '/' + page.parent_id;\n          }\n\n          pagesById[_page.id] = _page;\n          lpages.push(_page);\n        }\n      } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion6 && _iterator6['return']) {\n            _iterator6['return']();\n          }\n        } finally {\n          if (_didIteratorError6) {\n            throw _iteratorError6;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  pages = lpages;\n\n  // resolve parent pages\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = pages[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var page = _step2.value;\n\n      if (page.parent_id) {\n        var _parent = pagesById[page.parent_id];\n        if (!_parent.child_ids) _parent.child_ids = [];\n        _parent.child_ids.push(page.id);\n        page.parent = _parent;\n      } else {\n        roots.push(page);\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  roots.sort(positionSort);\n\n  // resolve child pages\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = pages[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var page = _step3.value;\n\n      if (page.child_ids) {\n        var children = [];\n        var _iteratorNormalCompletion9 = true;\n        var _didIteratorError9 = false;\n        var _iteratorError9 = undefined;\n\n        try {\n          for (var _iterator9 = page.child_ids[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n            var id = _step9.value;\n\n            var child = pagesById[id];\n            if (child) children.push(child);\n          }\n        } catch (err) {\n          _didIteratorError9 = true;\n          _iteratorError9 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion9 && _iterator9['return']) {\n              _iterator9['return']();\n            }\n          } finally {\n            if (_didIteratorError9) {\n              throw _iteratorError9;\n            }\n          }\n        }\n\n        children.sort(positionSort);\n        page.children = children;\n      } else {\n        page.children = [];\n      }\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n        _iterator3['return']();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  // map by path\n  var _iteratorNormalCompletion4 = true;\n  var _didIteratorError4 = false;\n  var _iteratorError4 = undefined;\n\n  try {\n    for (var _iterator4 = roots[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n      var page = _step4.value;\n\n      makePath(page, '/' + page.locale, pagesByPath);\n      if (page.locale === data.i18n.current) {\n        makePath(page, '/', pagesByPath);\n      }\n    }\n  } catch (err) {\n    _didIteratorError4 = true;\n    _iteratorError4 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n        _iterator4['return']();\n      }\n    } finally {\n      if (_didIteratorError4) {\n        throw _iteratorError4;\n      }\n    }\n  }\n\n  return {\n    types: data.types,\n    i18n: data.i18n,\n    pages: pagesByPath\n  };\n\n  function makePath(page, prefix, acc, root) {\n\n    var slug = pageSlug(page);\n    var path = slug == '' ? prefix : prefix == '/' ? '/' + slug : prefix + '/' + slug;\n\n    if (!root) root = page;\n\n    page.root = root;\n    page.path = path;\n    acc[path] = page;\n\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n\n    try {\n      for (var _iterator5 = page.children[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n        var child = _step5.value;\n\n        makePath(child, path, acc, root);\n      }\n    } catch (err) {\n      _didIteratorError5 = true;\n      _iteratorError5 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion5 && _iterator5['return']) {\n          _iterator5['return']();\n        }\n      } finally {\n        if (_didIteratorError5) {\n          throw _iteratorError5;\n        }\n      }\n    }\n  }\n\n  function positionSort(a, b) {\n    var posa = a.position || 0;\n    var posb = b.position || 0;\n    return posa - posb;\n  }\n\n  function pageSlug(page) {\n    if (typeof page.path_component === 'string') {\n      return page.path_component;\n    }\n    if (typeof page.static_uuid === 'string') {\n      return page.static_uuid;\n    }\n    return '';\n  }\n}\n//# sourceMappingURL=Api.js.map",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\nexports.mountPage = mountPage;\nexports.Page = Page;\n\nvar _fdAngularCore = require('fd-angular-core');\n\nvar registeredPageTypes = {};\n\nexports.registeredPageTypes = registeredPageTypes;\nvar DEFAULT_SUFFIX = 'Page';\n\nfunction mountPage(page, url) {\n\tvar opts = arguments[2] === undefined ? {} : arguments[2];\n\tvar name = opts.name;\n\n\treturn {\n\t\tstate: _fdAngularCore.mountAt.call(this, url, { name: name || url }),\n\t\tpage: page,\n\t\tchildren: [],\n\t\tbuildUiRouterState: builder\n\t};\n\n\tfunction builder() {\n\t\tvar _this = this;\n\n\t\tvar state = (0, _fdAngularCore.buildUiRouterState)(this.state);\n\n\t\tstate.resolve.pageSummary = function () {\n\t\t\treturn _this.page;\n\t\t};\n\t\tstate.resolve.pageId = function () {\n\t\t\treturn _this.page.id;\n\t\t};\n\n\t\tvar _iteratorNormalCompletion = true;\n\t\tvar _didIteratorError = false;\n\t\tvar _iteratorError = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator = this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\tvar child = _step.value;\n\n\t\t\t\tstate.children.push((0, _fdAngularCore.buildUiRouterState)(child));\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError = true;\n\t\t\t_iteratorError = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t\t_iterator['return']();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn state;\n\t}\n}\n\nfunction Page() {\n\tvar opts = arguments[0] === undefined ? {} : arguments[0];\n\n\tif (opts.url) {\n\t\tthrow '@Page({ url }) is not supported';\n\t}\n\tif (opts.resolve) {\n\t\tthrow '@Page({ resolve }) is not supported';\n\t}\n\n\tif (opts.asChild !== undefined) {\n\t\tconsole.warn('@Page({ asChild }) is depricated use @Page({ embed }) instead.');\n\t\topts.embed = opts.asChild;\n\t}\n\n\tfunction register(constructor) {\n\t\tvar meta = (0, _fdAngularCore.Metadata)(constructor);\n\n\t\tvar name = opts.name;\n\t\tif (!name) {\n\t\t\tname = meta.name;\n\t\t\tname = name[0].toLowerCase() + name.substr(1, name.length - DEFAULT_SUFFIX.length - 1);\n\t\t\topts.name = name;\n\t\t}\n\n\t\tconstructor = (0, _fdAngularCore.State)(opts)(constructor) || constructor;\n\n\t\tvar pageConstructor = function pageConstructor(pageSummary, pageDetails) {\n\t\t\tapplyPageSummary.call(this, pageSummary);\n\t\t\tapplyPageDetails.call(this, pageDetails);\n\n\t\t\tfor (var _len = arguments.length, rest = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n\t\t\t\trest[_key - 2] = arguments[_key];\n\t\t\t}\n\n\t\t\tconstructor.apply(this, rest);\n\t\t};\n\t\tpageConstructor = meta.wrap(pageConstructor);\n\t\tpageConstructor.$inject = ['pageSummary', 'pageDetails'].concat(constructor.$inject || []);\n\n\t\tvar superMeta = (0, _fdAngularCore.Metadata)(meta.superClass) || { state: {} };\n\n\t\tif (opts.embed === true || opts.embed === false) {\n\t\t\tmeta.state.embed = opts.embed;\n\t\t} else {\n\t\t\tmeta.state.embed = superMeta.state.embed || false;\n\t\t}\n\n\t\tif (opts.embedChildren === true || opts.embedChildren === false) {\n\t\t\tmeta.state.embedChildren = opts.embedChildren;\n\t\t} else {\n\t\t\tmeta.state.embedChildren = superMeta.state.embedChildren || false;\n\t\t}\n\n\t\tmeta.state.resolve.pageDetails = loadPageDetails;\n\t\tmeta.state.resolve.pageSummary = function () {};\n\t\tmeta.state.resolve.pageId = function () {};\n\n\t\tregisteredPageTypes[meta.name] = pageConstructor;\n\t\treturn constructor;\n\t}\n\n\tfunction loadPageDetails($http, pageId) {\n\t\treturn $http.get('/api/pages/' + pageId + '.json').then(function (x) {\n\t\t\treturn x.data;\n\t\t});\n\t}\n\tloadPageDetails.$inject = ['$http', 'pageId'];\n\n\tfunction applyPageSummary(data) {\n\t\tthis.$pageSummary = data;\n\t\tObject.assign(this, data);\n\t\tthis.type = data.type;\n\t}\n\n\tfunction applyPageDetails(data) {\n\t\tthis.$pageDetails = data;\n\t\tObject.assign(this, data);\n\t}\n\n\treturn register;\n}\n//# sourceMappingURL=Page.js.map",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _Api = require('./Api');\n\nvar _Page = require('./Page');\n\nvar _fdAngularCore = require('fd-angular-core');\n\n(0, _fdAngularCore.beforeBoot)(awaitStates());\n\nvar PagesController = (function () {\n\tfunction PagesController() {\n\t\t_classCallCheck(this, _PagesController);\n\t}\n\n\tvar _PagesController = PagesController;\n\tPagesController = (0, _fdAngularCore.State)({\n\t\tabstract: true,\n\t\ttemplate: '<ui-view></ui-view>'\n\t})(PagesController) || PagesController;\n\treturn PagesController;\n})();\n\nexports.PagesController = PagesController;\n\nfunction awaitStates() {\n\treturn (0, _Api.fetchSummaries)().then(buildStates).then(exportData);\n}\n\nfunction buildStates(data) {\n\tvar keys = Object.keys(data.pages);\n\tvar stateIndex = {},\n\t    metaIndex = {},\n\t    closestParentIndex = {};\n\tvar ctrlMeta = (0, _fdAngularCore.Metadata)(PagesController);\n\tkeys.sort();\n\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = keys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar path = _step.value;\n\n\t\t\tvar page = data.pages[path];\n\t\t\tvar type = lookupPageType.call(data, page.type);\n\t\t\tvar meta = (0, _fdAngularCore.Metadata)(type);\n\n\t\t\t// find parent\n\t\t\tvar idx = path.lastIndexOf('/');\n\t\t\tvar parentPath = path.slice(0, idx);\n\t\t\tvar childPath = path.slice(idx);\n\t\t\tif (parentPath === '') {\n\t\t\t\tparentPath = '/';\n\t\t\t}\n\n\t\t\tvar parentState = stateIndex[parentPath];\n\t\t\tvar parentMeta = metaIndex[parentPath];\n\n\t\t\tif (parentState && (meta.state.embed || parentMeta.state.embedChildren)) {\n\t\t\t\tvar state = _Page.mountPage.call(type, page, childPath);\n\t\t\t\tstateIndex[path] = state;\n\t\t\t\tmetaIndex[path] = meta;\n\t\t\t\tclosestParentIndex[path] = parentPath;\n\t\t\t\tconsole.log('Page[%s] %o', path, state);\n\t\t\t\tparentState.children.push(state);\n\t\t\t} else if (closestParentIndex[parentPath]) {\n\t\t\t\tvar closestParentPath = closestParentIndex[parentPath];\n\t\t\t\tparentState = stateIndex[closestParentPath];\n\t\t\t\tchildPath = path.slice(closestParentPath.length);\n\n\t\t\t\tvar state = _Page.mountPage.call(type, page, childPath);\n\t\t\t\tstateIndex[path] = state;\n\t\t\t\tmetaIndex[path] = meta;\n\n\t\t\t\tclosestParentIndex[path] = closestParentPath;\n\t\t\t\tconsole.log('Page[%s] %o', path, state);\n\t\t\t\tparentState.children.push(state);\n\t\t\t} else {\n\t\t\t\tvar state = _Page.mountPage.call(type, page, path);\n\t\t\t\tstateIndex[path] = state;\n\t\t\t\tmetaIndex[path] = meta;\n\t\t\t\tconsole.log('Page[%s] %o', path, state);\n\t\t\t\tctrlMeta.state.children.push(state);\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t_iterator['return']();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn data;\n}\n\nvar Roots = null;\nexports.Roots = Roots;\nvar Root = null;\nexports.Root = Root;\nvar I18n = null;\n\nexports.I18n = I18n;\nfunction exportData(data) {\n\texports.I18n = I18n = data.i18n;\n\texports.Root = Root = data.pages['/'];\n\texports.Roots = Roots = {};\n\n\tvar _iteratorNormalCompletion2 = true;\n\tvar _didIteratorError2 = false;\n\tvar _iteratorError2 = undefined;\n\n\ttry {\n\t\tfor (var _iterator2 = data.i18n.locales[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\tvar locale = _step2.value;\n\n\t\t\tRoots[locale] = data.pages['/' + locale];\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError2 = true;\n\t\t_iteratorError2 = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion2 && _iterator2['return']) {\n\t\t\t\t_iterator2['return']();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError2) {\n\t\t\t\tthrow _iteratorError2;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn data;\n}\n\nfunction lookupPageType(name) {\n\tvar missing = [];\n\n\twhile (true) {\n\t\tvar type = _Page.registeredPageTypes[name];\n\t\tif (type) {\n\t\t\treturn type;\n\t\t}\n\n\t\tmissing.push(name);\n\n\t\tname = this.types[name];\n\t\tif (!name) {\n\t\t\tthrow Error('Unknown page types: ' + missing.join(', '));\n\t\t}\n\t}\n}\n//# sourceMappingURL=States.js.map",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nrequire('./Api');\n\nvar _States = require('./States');\n\nObject.defineProperty(exports, 'PagesController', {\n  enumerable: true,\n  get: function get() {\n    return _States.PagesController;\n  }\n});\nObject.defineProperty(exports, 'Roots', {\n  enumerable: true,\n  get: function get() {\n    return _States.Roots;\n  }\n});\nObject.defineProperty(exports, 'Root', {\n  enumerable: true,\n  get: function get() {\n    return _States.Root;\n  }\n});\nObject.defineProperty(exports, 'I18n', {\n  enumerable: true,\n  get: function get() {\n    return _States.I18n;\n  }\n});\n\nvar _Page = require('./Page');\n\nObject.defineProperty(exports, 'Page', {\n  enumerable: true,\n  get: function get() {\n    return _Page.Page;\n  }\n});\n\nvar _search = require('./search');\n\nObject.defineProperty(exports, 'find', {\n  enumerable: true,\n  get: function get() {\n    return _search.find;\n  }\n});\nObject.defineProperty(exports, 'findFirst', {\n  enumerable: true,\n  get: function get() {\n    return _search.findFirst;\n  }\n});\n//# sourceMappingURL=index.js.map",
    "\n/*\n * @param {Object} query\n * @param {Integer} query.limit\n * @param {String} query.type\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.find = find;\nexports.findFirst = findFirst;\n\nfunction find(query) {\n  var acc = arguments[1] === undefined ? [] : arguments[1];\n\n  if (this.$pageSummary) {\n    var _context;\n\n    return (_context = this.$pageSummary, find).call(_context, query, acc);\n  }\n\n  if (!query) {\n    return acc;\n  }\n\n  if (query.limit && acc.length >= query.limit) {\n    return acc;\n  }\n\n  if (query.type && query.type !== this.type) {\n    return findInChildren.call(this, query, acc);\n  }\n\n  acc.push(this);\n  return findInChildren.call(this, query, acc);\n}\n\n/*\n * @param {Object} query\n * @param {String} query.type\n */\n\nfunction findFirst(query) {\n\n  if (!query) {\n    return null;\n  }\n\n  query.limit = 1;\n  var res = find.call(this, query);\n\n  return res[0] || null;\n}\n\nfunction findInChildren(query, acc) {\n  if (!this.children) {\n    return acc;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var child = _step.value;\n\n      acc = find.call(child, query, acc);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return acc;\n}\n//# sourceMappingURL=search.js.map"
  ]
}